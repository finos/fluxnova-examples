## 1. Pre-Trade: Client Onboarding & KYC

**Purpose:** Ensure any new or prospective client is verified, risk-assessed and approved before they can place orders/trades.

**Scope:** Captures client information, validates identity and documents, performs sanctions/PEP screening and AML/KYC risk scoring, and either auto-approves low-risk clients or routes medium/high-risk cases to compliance for review.

**Key Actors:**
- **Client Services** — initial client interaction and data collection
- **KYC System** — automated identity verification and document validation
- **Compliance Team** — manual review of medium/high-risk cases
- **Operations Team** — SLA monitoring and escalation management
- **Ops Manager** — escalation recipient for document verification timeouts
- **Compliance Manager** — escalation recipient for risk assessment timeouts
- **Senior Compliance** — enhanced due diligence for high-risk cases

**Process Flow:**
1. **Start Event** — Application submitted (triggered from client portal or sales)
2. **Capture Client Data (User Task/Service Task)** — Collect client details into CRM:
   - Name, legal entity type, residency, contact details
   - Set process variables: clientId, clientType
3. **Collect Documents (User Task/Service Task)** — Upload identity docs, proof of address, corporate docs (as applicable); store document references
4. **Verify Documents (Service Task)** — OCR/biometric verification and third-party identity provider call
   - **Boundary Timer:** 48 hours (SLA); on timeout → escalate to Ops Manager
   - **Outcome variable:** documentsVerified (true/false)
   - **If documentsVerified == false** → route to Ops Remediation task (data correction/re-request docs) then reattempt verification
5. **Sanctions & PEP Screening (Service Task)** — Query OFAC/UN/EU/Proprietary lists and PEP databases
   - **Outcome variables:** sanctionsMatch (true/false), isPEP (true/false)  
   - **If sanctionsMatch == true** → block onboarding and route to immediate compliance investigation (high priority)
6. **AML/KYC Risk Scoring (Business Rule/DMN)** — Call DMN decision table (RiskAssessment) with inputs:
   - clientType, jurisdiction, transaction profile, PEP flag, sanctions result, beneficial owners
   - **DMN returns:** riskCategory ∈ {Low, Medium, High}
   - **Boundary Timer:** 24 hours; on timeout → escalate to Compliance Manager
7. **Gateway: Risk Category Decision:**
   - **Low** → Auto-approve (System task to create client record, enable trading permissions)
   - **Medium** → Create compliance review task (User Task) assigned to Compliance Officer
   - **High** → Escalate to Senior Compliance for enhanced due diligence (User Task/Manual review)
8. **Compliance Review (User Task)** — Compliance reviews documents, checks, and DMN output; approves or rejects
   - **If approved** → proceed to Account Setup
   - **If rejected** → end process with rejection reason logged
9. **Account Opening/Enable Trading (Service Task)** — Provision account in downstream systems (CRM, trading systems, custodians); notify Sales & Client
10. **End Event** — Onboarding complete (record audit trail and timestamps)

**Success Criteria:**
- Identity verified and documents validated
- Sanctions/PEP screening completed
- Risk category assigned (Low/Medium/High)
- Appropriate approval decision taken and recorded
- Onboarding completed within agreed SLAs
- All steps logged and auditable

**SLA Requirements:**
- **Task-level SLAs:** 48 hours for document verification, 24 hours for risk assessment
- **Process-level SLA:** 5 business days (120 hours) from start to completion
- SLA breaches trigger escalation to operations or senior compliance
- Process-level SLA breach triggers escalation to senior management and audit marking

**Audit & Compliance:** Full audit trail required for regulatory compliance with timestamps and decision rationale

