## 8. Post-Trade: Settlement

**Purpose:** Ensure executed trades settle on agreed dates through accurate settlement instructions, status monitoring, and fails resolution.

**Scope:** Settlement instruction enrichment, transmission, monitoring, exception handling, and final confirmation for accounting purposes.

**Key Actors:**
- **Front Office** — provides trade context and settlement preferences
- **Middle Office** — enriches settlement instructions and validates data
- **Back Office/Settlement Ops** — manages settlement process and fails resolution
- **Custodian/CCP/Settlement System** — processes settlement instructions and provides status updates

**Process Flow:**
1. **Start Event** — Trade reaches settlement stage (tradeStatus = "ReadyForSettlement")
2. **Enrich Settlement Instructions (Middle Office)** — Comprehensive instruction preparation:
   - **Fetch standing settlement instructions (SSIs)** — retrieve pre-configured settlement details
   - **Gather trade-specific data:** settlement account, currency, settlement date
   - **Validate mandatory fields:** ensure all required information present
   - **Set variables:** instructionsComplete (boolean), settlementDate
   - **Data remediation:** If missing data → Route to Ops Remediate (request missing info from Front Office) then retry enrichment
3. **Generate Settlement Instruction Message (Back Office)** — Message formatting and preparation:
   - **Format message** according to industry standards (ISO 20022 or FIX-FIN)
   - **Attach identifiers:** UTI/transaction IDs for tracking and reconciliation
   - **Apply security:** Digital signing if required by settlement network
   - **Quality control:** Validate message format and completeness
4. **Transmit to Custodian/CCP** — External system communication:
   - **Send via established channels:** SWIFT network, host-to-host connections, or REST APIs
   - **Await acknowledgment:** Monitor for receipt confirmation and unique receipt ID
   - **Store tracking data:** Record transmissionId for follow-up and reconciliation
5. **Monitor Settlement Status** — Active settlement tracking:
   - **Polling mechanism:** Actively query settlement status from custodian/CCP systems
   - **Message listening:** Monitor for incoming settlement status messages
   - **Status categorization:** Track pending, partial, complete, or failed settlement states
   - **Boundary Timer:** 48 hours (or business-day-aware timer) - automated alert if settlement not confirmed within expected window (settlement date + tolerance)
6. **Exclusive Gateway: Settled?** — Settlement outcome decision:
   - **Yes (Settled)** → **Settlement completion process:**
     - Record final settlement confirmation
     - Update cash and securities positions
     - Create reconciliation jobs for downstream systems
     - Notify Front Office and Accounting teams
     - **End Event: Settlement Successful**
   - **No (Failed/Pending)** → **Exception handling process:**
     - Create Settlement Fail case with detailed reason:
       - Insufficient funds or securities
       - Unmatched settlement instructions
       - System connectivity issues
       - Counterparty-related delays
7. **Fail Resolution (Back Office)** — Comprehensive problem resolution:
   - **Investigation activities:**
     - Analyze root cause of settlement failure
     - Correct erroneous settlement instructions
     - Request instruction recall and retry
     - Contact counterparty, custodian, or CCP for clarification
     - Coordinate with treasury for funding arrangements
   - **Retry mechanism:** Re-generate and re-transmit corrected instructions (loop back to step 4)
   - **Retry tracking:** Maintain retryCount variable; escalate if retries exceed predefined threshold
8. **Escalation** — Senior management involvement:
   - **Escalation triggers:** Failure not resolved after maximum retries or within SLA
   - **Actions:** Alert senior Operations and management teams
   - **Incident management:** Create formal incident record for tracking and resolution
   - **End Event: Settlement Escalated/Failed** — with complete documentation

**Success Criteria:**
- Settlement instructions submitted accurately and within required timeframes
- Settlements completed within agreed windows (typically T+2 for securities)
- Settlement fails and breaks promptly identified and resolved
- Complete audit trail maintained for all settlement activities
- Position and cash reconciliation completed successfully

**SLA Requirements:**
- **Instruction submission:** T+1 (day after trade execution)
- **Settlement completion:** T+2 (standard settlement cycle)
- **Fail resolution:** 2 business days from identification
- **Escalation response:** 4 hours for senior management involvement

**Risk & Controls:**
- **Automated validation** of key settlement data elements (LEI, account numbers, CSD codes)
- **Defined retry and escalation procedures** for settlement failures
- **Post-settlement reconciliation processes** to ensure accuracy
- **Regular monitoring** of settlement performance metrics and fail rates
- **Liquidity management** coordination with treasury function
